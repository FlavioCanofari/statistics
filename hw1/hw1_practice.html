<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/statistics/assets/css/style.css?v=2338855d07a80ee1e002e9f9dc12344203d0c366">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

    <!-- Setup theme-color -->
    <!-- start theme color meta headers -->
    <meta name="theme-color" content="#151515">
    <meta name="msapplication-navbutton-color" content="#151515">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- end theme color meta headers -->


    <!-- Setup Google Analytics -->



    <!-- You can set your favicon here -->
    <!-- link rel="shortcut icon" type="image/x-icon" href="/statistics/favicon.ico" -->

    <!-- end custom head snippets -->


    <!-- Begin Jekyll SEO tag v2.8.0 -->
    <title>Statistics 2024/2025</title>
    <meta name="generator" content="Jekyll v3.10.0" />
    <meta property="og:title" content="Student Info:" />
    <meta property="og:locale" content="en_US" />
    <meta name="description"
        content="This website contains all the Statistics homework done by me for the year 2024/2025." />
    <meta property="og:description"
        content="This website contains all the Statistics homework done by me for the year 2024/2025." />
    <link rel="canonical" href="https://flaviocanofari.github.io/statistics/" />
    <meta property="og:url" content="https://flaviocanofari.github.io/statistics/" />
    <meta property="og:site_name" content="Statistics 2024/2025" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="Student Info:" />
    <script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"This website contains all the Statistics homework done by me for the year 2024/2025.","headline":"Student Info:","name":"Statistics 2024/2025","url":"https://flaviocanofari.github.io/statistics/"}</script>
    <!-- End Jekyll SEO tag -->
    <style>
        .highlight {
            color: #d0d0d0
        }

        .highlight table td {
            padding: 5px
        }

        .highlight table pre {
            margin: 0
        }

        .highlight .w {
            color: #d0d0d0
        }

        .highlight .err {
            color: #151515;
            background-color: #ac4142
        }

        .highlight .c,
        .highlight .cd,
        .highlight .cm,
        .highlight .c1,
        .highlight .cs {
            color: #888
        }

        .highlight .cp {
            color: #f4bf75
        }

        .highlight .o,
        .highlight .ow {
            color: #f4bf75
        }

        .highlight .p,
        .highlight .pi {
            color: #d0d0d0
        }

        .highlight .gi {
            color: #90a959
        }

        .highlight .gd {
            color: #ac4142
        }

        .highlight .gh {
            color: #6a9fb5;
            font-weight: bold
        }

        .highlight .k,
        .highlight .kn,
        .highlight .kp,
        .highlight .kr,
        .highlight .kv {
            color: #aa759f
        }

        .highlight .kc,
        .highlight .kt,
        .highlight .kd {
            color: #d28445
        }

        .highlight .s,
        .highlight .sb,
        .highlight .sc,
        .highlight .sd,
        .highlight .s2,
        .highlight .sh,
        .highlight .sx,
        .highlight .s1 {
            color: #90a959
        }

        .highlight .sr {
            color: #75b5aa
        }

        .highlight .si,
        .highlight .se {
            color: #8f5536
        }

        .highlight .nt,
        .highlight .nn,
        .highlight .nc,
        .highlight .no {
            color: #f4bf75
        }

        .highlight .na {
            color: #6a9fb5
        }

        .highlight .m,
        .highlight .mf,
        .highlight .mh,
        .highlight .mi,
        .highlight .il,
        .highlight .mo,
        .highlight .mb,
        .highlight .mx {
            color: #90a959
        }

        .highlight .ss {
            color: #90a959
        }

        body {
            margin: 0;
            padding: 0;
            background: #151515 url("../assets/images/bkg.png") 0 0;
            color: #eaeaea;
            font-size: 16px;
            line-height: 1.5;
            font-family: Monaco, "Bitstream Vera Sans Mono", "Lucida Console", Terminal, monospace
        }

        .mine_container {
            width: 90%;
            max-width: 1000px;
            margin: 0 auto
        }

        section {
            display: block;
            margin: 0 0 20px 0
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin: 0 0 20px
        }

        li {
            line-height: 1.4
        }

        header {
            background: rgba(0, 0, 0, 0.1);
            width: 100%;
            border-bottom: 1px dashed #b5e853;
            padding: 20px 0;
            margin: 0 0 40px 0
        }

        header h1 {
            font-size: 30px;
            line-height: 1.5;
            margin: -8px 0 0 -40px;
            font-weight: bold;
            font-family: Monaco, "Bitstream Vera Sans Mono", "Lucida Console", Terminal, monospace;
            color: #b5e853;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1), 0 0 5px rgba(181, 232, 83, 0.1), 0 0 10px rgba(181, 232, 83, 0.1);
            letter-spacing: -1px;
            -webkit-font-smoothing: antialiased
        }

        @media (max-width: 1000px) {
            header h1 {
                margin-left: 0
            }
        }

        header h1:before {
            content: "./ ";
            font-size: 24px
        }

        header h2 {
            font-size: 18px;
            font-weight: 300;
            color: #666
        }

        #downloads .btn {
            display: inline-block;
            text-align: center;
            margin: 0
        }

        #main_content {
            width: 100%;
            -webkit-font-smoothing: antialiased
        }

        section img {
            max-width: 100%
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-weight: normal;
            font-family: Monaco, "Bitstream Vera Sans Mono", "Lucida Console", Terminal, monospace;
            color: #b5e853;
            letter-spacing: -0.03em;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1), 0 0 5px rgba(181, 232, 83, 0.1), 0 0 10px rgba(181, 232, 83, 0.1)
        }

        #main_content h1 {
            font-size: 30px
        }

        #main_content h2 {
            font-size: 24px
        }

        #main_content h3 {
            font-size: 18px
        }

        #main_content h4 {
            font-size: 14px
        }

        #main_content h5 {
            font-size: 12px;
            text-transform: uppercase;
            margin: 0 0 5px 0
        }

        #main_content h6 {
            font-size: 12px;
            text-transform: uppercase;
            color: #999;
            margin: 0 0 5px 0
        }

        dt {
            font-style: italic;
            font-weight: bold
        }

        ul li {
            list-style-image: url("../assets/images/bullet.png")
        }

        blockquote {
            color: #aaa;
            padding-left: 10px;
            border-left: 1px dotted #666
        }

        pre {
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 10px;
            font-size: 16px;
            color: #b5e853;
            border-radius: 2px;
            word-wrap: normal;
            overflow: auto;
            overflow-y: hidden
        }

        code.highlighter-rouge {
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 0px 3px;
            margin: 0px -3px;
            color: #aa759f;
            border-radius: 2px
        }

        table {
            width: 100%;
            margin: 0 0 20px 0
        }

        th {
            text-align: left;
            border-bottom: 1px dashed #b5e853;
            padding: 5px 10px
        }

        td {
            padding: 5px 10px
        }

        hr {
            height: 0;
            border: 0;
            border-bottom: 1px dashed #b5e853;
            color: #b5e853
        }

        .btn {
            display: inline-block;
            background: -webkit-linear-gradient(top, rgba(130, 130, 130, 0.6), rgba(100, 100, 100, 0.6) 50%, rgba(70, 70, 70, 0.8) 50%, rgba(40, 40, 40, 0.8));
            padding: 8px 18px;
            border-radius: 50px;
            border: 2px solid rgba(0, 0, 0, 0.7);
            border-bottom: 2px solid rgba(0, 0, 0, 0.7);
            border-top: 2px solid #000;
            color: rgba(255, 255, 255, 0.8);
            font-family: Helvetica, Arial, sans-serif;
            font-weight: bold;
            font-size: 18px;
            text-decoration: none;
            text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.75);
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05)
        }

        .btn:hover {
            background: -webkit-linear-gradient(top, rgba(130, 130, 130, 0.6), rgba(100, 100, 100, 0.6) 50%, rgba(70, 70, 70, 0.8) 50%, rgba(40, 40, 40, 0.8));
        }

        .btn .icon {
            display: inline-block;
            width: 16px;
            height: 16px;
            margin: 1px 8px 0 0;
            float: left
        }

        .btn-github .icon {
            opacity: 0.6;
            background: url("../assets/images/blacktocat.png") 0 0 no-repeat
        }

        a {
            color: #63c0f5;
            text-shadow: 0 0 5px rgba(104, 182, 255, 0.5);
            text-decoration: none;
        }

        .cf:before,
        .cf:after {
            content: "";
            display: table
        }

        .cf:after {
            clear: both
        }

        .cf {
            zoom: 1
        }

        #a-title {
            text-decoration: none
        }

        #chartContainer {
            display: none;
            flex-direction: column;
        }
    </style>

</head>

<body>

    <header>
        <div class="mine_container">
            <ul class="home">
                <li><a href="https://flaviocanofari.github.io/statistics/">HOME</a></li>
            </ul>
            <h1>Homework 1 - Practice (javascript)</h1>
            <ul>
                <li>In order to see the theory <a
                        href="https://flaviocanofari.github.io/statistics/hw1/hw1_theory.html">click here</a></li>
            </ul>
        </div>
    </header>

    <div class="mine_container">
        <section id="main_content">
            <h1>Servers-Hackers Model</h1>

            <p>We are simulating a scenario with n servers and m attackers, where each hacker has a probability p of
                successfully penetrating any given server. The goal is to visually represent this process: if a hacker
                fails to penetrate a server, the line remains flat, while a successful breach will cause a jump to 1 on
                the graph. By experimenting with different values of n, m and p we can observe how often the hacker
                reaches different levels of penetration over time. </p>

            <h2>Please fill the forms below to generate the chart</h2>

            <form id="valuesForm" class="mb-4">
                <div class="mb-3">
                    <label for="integer1" class="form-label">Number of servers</label>
                    <input type="number" class="form-control" id="integer1" placeholder="Please insert an integer"
                        required>
                </div>

                <div class="mb-3">
                    <label for="integer2" class="form-label">Number of attackers</label>
                    <input type="number" class="form-control" id="integer2" placeholder="Please insert an integer"
                        required>
                </div>

                <div class="mb-3">
                    <label for="decimal" class="form-label">Probability to penetrate the servers</label>
                    <input type="number" class="form-control" id="decimal" step="0.1" min="0" max="1"
                        placeholder="Please insert a decimal number between 0 and 1" required>
                </div>

                <button type="submit" class="btn btn-primary" style="margin-top: 10px;">Generate</button>
            </form>
            <div id="chartContainer">
                <canvas id="myChart" width="400" height="200"></canvas>
                <canvas id="mySecondChart" width="400" height="200" style="padding-top: 40px; padding-bottom: 40px;"></canvas>
                <u><b><p id="result" style="text-align: center; font-size: 20px;"></p></b></u>
            </div>


            <h1>Code explanation</h1>
            <p>
                Initially, the code assigns user input regarding the number of servers, attackers and the probability of
                server penetration to variables and initialises two arrays that we will need to create the charts.
                <br /><br />
                <img src="./code-1.png">
                <br /><br />
                Then the datasets to be shown on the graph are generated, i.e. for each attacker an array having a "step
                up" for each server he managed to breach. The step up happens if the random number generated is higher
                then the given probability.
                <br /><br />
                <img src="./code-2.png">
                <br /><br />
                Finally the charts are created with the dataset generated in the previous step, where the first chart
                shows which server was breached by each attacker, while the second chart shows how many attacker managed to reach a certain number of breaches.
                <br /><br />
                <img src="./code-3.png">
                <br /><br />

            </p>
        </section>
    </div>
    <script>
        function adjustMargin() {
            var element = document.querySelector('.home');
            var screenWidth = window.innerWidth;

            if (screenWidth > 1400) {
                element.style.marginLeft = "-20%";
            } else if (screenWidth < 1000) {
                element.style.marginLeft = "0px";
            } else if (screenWidth > 1000 & screenWidth < 1080) {
                element.style.marginLeft = "-40px";
            } else {
                newMargin = -((screenWidth - 1000) / 2);
                element.style.marginLeft = newMargin + "px";
            }
        }
        adjustMargin();
        window.addEventListener('resize', adjustMargin);
    </script>
    <script>
        let myChart = null;
        let mySecondChart = null;

        function createChart(servers, attackers, attackerDatatsets) {

            if (myChart !== null) {
                myChart.destroy();
            }

            const ctx = document.getElementById('myChart').getContext('2d');
            myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: servers,
                    datasets: attackerDatatsets
                },
                options: {
                    plugins: {
                        legend: {
                            display: false,
                            labels: {
                                color: 'white'
                            }
                        }
                    },
                    scales: {
                        x: {
                            display:true,
                            title:{
                                display:true,
                                text:'servers',
                                color:"white",
                                font:{
                                    size:18,
                                },
                            },
                            position: 'bottom',
                            grid: {
                                color: 'white'
                            },
                            ticks: {
                                color: 'white'
                            }
                        },
                        y: {
                            display:true,
                            title:{
                                display:true,
                                text:'successful breach',
                                color:"white",
                                font:{
                                    size:18,
                                },
                            },
                            position: 'right',
                            min: 0,
                            max: servers.length,
                            grid: {
                                color: 'white'
                            },
                            ticks: {
                                min: 0,
                                max: servers.length + 1,
                                stepSize: 1,
                                color: 'white'
                            }
                        }
                    }
                }
            });
        }

        function createSecondChart(servers, penetrationCounts) {
            if (mySecondChart !== null) {
                mySecondChart.destroy();
            }

            const secondCtx = document.getElementById('mySecondChart').getContext('2d');

            mySecondChart = new Chart(secondCtx, {
                type: 'line',
                data: {
                    labels: servers,
                    datasets: [{
                        label: "Number of attackers for each level",
                        borderColor: 'rgba(75, 192, 192, 1)', // Set line color
                        borderWidth: 2,
                        radius: 4,
                        pointBackgroundColor: 'rgba(75, 192, 192, 1)',
                        fill: false,
                        tension: 0.4,
                        data: penetrationCounts,
                    }]

                },
                options: {
                    plugins: {
                        legend: {
                            display: false,
                            labels: {
                                color: 'white'
                            }
                        }
                    },
                    scales: {
                        x: {
                            display:true,
                            title:{
                                display:true,
                                text:'successful breach',
                                color:"white",
                                font:{
                                    size:18,
                                },
                            },
                            position: 'bottom',
                            grid: {
                                color: 'white'
                            },
                            ticks: {
                                color: 'white'
                            }
                        },
                        y: {
                            display:true,
                            title:{
                                display:true,
                                text:'attackers',
                                color:"white",
                                font:{
                                    size:18,
                                },
                            },
                            position: 'right',
                            min: 0,
                            grid: {
                                color: 'white'
                            },
                            ticks: {
                                color: 'white'
                            }
                        }
                    }

                },
                maintainAspectRatio: false, // Keep this false to make the chart responsive
            });
        }

        function computeAverage(penCount, index, currentMean) {

            if (index >= penCount.length) {
                return currentMean; 
            }

            const value = penCount[index];

            if (!isNaN(value)) {
                index=index+1;
                currentMean = currentMean + (value - currentMean) / index;
            }

            return computeAverage(penCount, index, currentMean);
        }

        function generateDataset(attackers, servers, probability) {

            let dataset = [];

            for (let i = 1; i <= attackers.length; i++) {
                let attackerData = [];
                let max = 0;

                for (let j = 0; j < servers.length; j++) {

                    let randomValue = Math.random();

                    let value = max;
                    if (randomValue < probability) {
                        max = max + 1;
                        value = max;
                    }

                    attackerData.push(value);
                }

                dataset.push({
                    label: `Attacker ${i}`,
                    data: attackerData,
                    borderColor: generateRandomHexColor(),
                    borderWidth: 2,
                    fill: false,
                    stepped: true
                });
            }

            return dataset;
        }


        function generateRandomHexColor() {
            let letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }


        document.getElementById('valuesForm').addEventListener('submit', function (event) {
            event.preventDefault();

            const integer1 = parseInt(document.getElementById('integer1').value);
            const integer2 = parseInt(document.getElementById('integer2').value);
            const p = parseFloat(document.getElementById('decimal').value);

            const servers = [];
            for (let i = 1; i <= integer1; i++) {
                servers.push(i);
            }

            const attackers = [];
            for (let i = 1; i <= integer2; i++) {
                attackers.push(i);
            }

            attackerDatatsets = generateDataset(attackers, servers, p)
            
            const penetrationCounts = Array(servers.length).fill(0);
            let attackerPenetrations = []
            
            attackerDatatsets.forEach((attacker) => {
                const finalPenetrations = attacker.data[attacker.data.length - 1];
                attackerPenetrations.push(finalPenetrations)
                penetrationCounts[finalPenetrations - 1]++;
            });
            
            const finalMean = computeAverage(attackerPenetrations, 0, 0, 0);
            const average = finalMean ? finalMean.toFixed(2) : 0;

            createChart(servers, attackers, attackerDatatsets);
            createSecondChart(servers, penetrationCounts);
            document.getElementById('result').innerHTML = `The avarage number of server successfully breached is ${average}`;
            document.getElementById('chartContainer').style.display = 'flex';
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>


</body>

</html>